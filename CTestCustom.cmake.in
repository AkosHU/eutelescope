#
# +++++++++ IGNORE SOME OF THE TESTS WHEN RUNNING MEMCHECKS (e.g. valgrind) +++++++++++++++
#
# this basically includes every test except the *Run tests
#

set (CTEST_CUSTOM_MEMCHECK_IGNORE 
	${CTEST_CUSTOM_MEMCHECK_IGNORE}
	TestCppcheckSources
	TestPysubExampleDaturaAloneCleanup
	TestPysubExampleDaturaAloneSetup
	TestPysubExampleDaturaAloneConverterLog
	TestPysubExampleDaturaAloneConverterHisto
	TestPysubExampleDaturaAloneConverterHotpix
	TestPysubExampleDaturaAloneConverterOutput
	TestPysubExampleDaturaAloneClusearchLog
	TestPysubExampleDaturaAloneClusearchHisto
	TestPysubExampleDaturaAloneClusearchOffset
	TestPysubExampleDaturaAloneClusearchOutput
	TestPysubExampleDaturaAloneHitmakerLog
	TestPysubExampleDaturaAloneHitmakerHisto
	TestPysubExampleDaturaAloneHitmakerPrealign
	TestPysubExampleDaturaAloneHitmakerOutput
	TestPysubExampleDaturaAloneAlignLog
	TestPysubExampleDaturaAloneAlignHisto
	TestPysubExampleDaturaAloneAlignDB
	TestPysubExampleDaturaAloneAlignOutput
	TestPysubExampleDaturaAloneFitterLog
	TestPysubExampleDaturaAloneFitterHisto
	TestPysubExampleDaturaAloneFitterOutput
	TestPysubExampleDaturaAloneStatTestAlign
	TestPysubExampleDaturaAloneStatTestFitter
   )
#	TestPysubExampleDatura2FEI4Cleanup
#	TestPysubExampleDatura2FEI4Setup
#	TestPysubExampleDatura2FEI4ConverterLog
#	TestPysubExampleDatura2FEI4ConverterHisto
#	TestPysubExampleDatura2FEI4ConverterHotpix
#	TestPysubExampleDatura2FEI4ConverterOutput
#	TestPysubExampleDatura2FEI4ClusearchLog
#	TestPysubExampleDatura2FEI4ClusearchHisto
#	TestPysubExampleDatura2FEI4ClusearchOffset
#	TestPysubExampleDatura2FEI4ClusearchOutput
#	TestPysubExampleDatura2FEI4HitmakerLog
#	TestPysubExampleDatura2FEI4HitmakerHisto
#	TestPysubExampleDatura2FEI4HitmakerPrealign
#	TestPysubExampleDatura2FEI4HitmakerOutput
#	TestPysubExampleDatura2FEI4AlignLog
#	TestPysubExampleDatura2FEI4AlignHisto
#	TestPysubExampleDatura2FEI4AlignDB
#	TestPysubExampleDatura2FEI4AlignOutput
#	TestPysubExampleDatura2FEI4FitterLog
#	TestPysubExampleDatura2FEI4FitterHisto
#	TestPysubExampleDatura2FEI4FitterOutput
#	TestPysubExampleDatura2FEI4StatTestAlign
#	TestPysubExampleDatura2FEI4StatTestFitter
#    )

# use valgrind for dynamic analysis
set (CTEST_MEMORYCHECK_COMMAND "/usr/bin/valgrind")
set (CTEST_MEMORYCHECK_COMMAND_OPTIONS "--leak-check=full --suppressions=$ROOTSYS/etc/valgrind-root.supp")

# increase the maximum number of warnings reported by ctest from the default 50
set (CTEST_CUSTOM_MAXIMUM_NUMBER_OF_WARNINGS 150)

# actually install the binaries after building so that they can be used in the tests
set (CTEST_CUSTOM_PRE_TEST
    "make install"
    )
